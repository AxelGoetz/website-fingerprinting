\documentclass[10pt,a4paper]{report}

% Margins
\usepackage{geometry}
\geometry{margin=1.4in}

% Importing images
\usepackage{graphicx}
\graphicspath{ {./figures/} }

% For multilayer numbering in figures/tables
\usepackage{amsmath}
\numberwithin{figure}{section}

% Clickable links
\usepackage{hyperref}

\usepackage[backend=biber]{biblatex}
\addbibresource{report.bib}

\setlength{\parindent}{1cm}
\setlength{\parskip}{0.1cm}

% Some of the drawings
\usepackage{tikz}

% Subfigures
\usepackage{subcaption}

% Appendices
\usepackage[title]{appendix}
\usepackage{titlesec}

% Start chapters on new page
\newcommand{\chapterbreak}{\clearpage}

% For minimal seperation between paragraph and list
\usepackage{enumitem}

% Space between chapter & top of page
\titleformat{\chapter}[display]
    {\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{15pt}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{10pt}

% Space between section and text
\titlespacing\section{0pt}{8pt plus 4pt minus 2pt}{6pt plus 2pt minus 2pt}

% Display code
\usepackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

% Straight quotes
\usepackage[T1]{fontenc}
\usepackage{textcomp}

% Straight quotes + line wrapping
\lstset{
    frame=single,
    breaklines=true,
    postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}},
    upquote=true
}

% For directory tree
\usepackage{dirtree}

\begin{document}

  \input{title.tex}

  % Abstract
  \thispagestyle{empty}

  \input{abstract.tex}

  \newpage

  % Table of content
  \thispagestyle{empty}

  \tableofcontents
  \newpage

  % Start page numbering
  \pagenumbering{arabic}

  % Report
  \input{chapters/introduction.tex}
  \input{chapters/background.tex}
  \input{chapters/requirements.tex}
  \input{chapters/implementation.tex}
  \input{chapters/evaluation.tex}
  \input{chapters/conclusion.tex}

  \newpage

  % References
  % \clearpage

  \addcontentsline{toc}{chapter}{Bibliography}

  \nocite{*}
  \printbibliography[title={Bibliography}]

  \newpage

  % Include appendices
  \begin{appendices}
    \titleformat{\section}[display]{\normalfont\Large\bfseries}{\appendixname\enspace\thesection}{.2em}{}
    \input{appendices/system_manual.tex}
    \input{appendices/user_manual.tex}
    \input{appendices/project_plan.tex}
    \input{appendices/interim_report.tex}
  \end{appendices}

\end{document}
